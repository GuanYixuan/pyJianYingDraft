# pyJianYingDraft
### è½»é‡ã€çµæ´»ã€æ˜“ä¸Šæ‰‹çš„Pythonå‰ªæ˜ è‰ç¨¿ç”ŸæˆåŠå¯¼å‡ºå·¥å…·ï¼Œæ„å»ºå…¨è‡ªåŠ¨è§†é¢‘å‰ªè¾‘/æ··å‰ªæµæ°´çº¿ï¼

> â„¹ æ¬¢è¿ä¸ºæœ¬é¡¹ç›®è¡¥å……6+ç‰ˆæœ¬è‰ç¨¿æ–‡ä»¶çš„è§£å¯†æ–¹å¼

> ğŸ§ª æœ¬é¡¹ç›®ä»åœ¨å¿«é€Ÿæ›´æ–°ä¸­ï¼Œæ¬¢è¿â­ï¸æ­¤é¡¹ç›®ä¿æŒå…³æ³¨ï¼

> ğŸ“¢ æ¬¢è¿åŠ å…¥[DiscordæœåŠ¡å™¨](https://discord.gg/WfHgGQvhyW)è¿›è¡Œç”¨æ³•æˆ–æ–°åŠŸèƒ½çš„è®¨è®º

## ä½¿ç”¨æ€è·¯
![ä½¿ç”¨æ€è·¯](readme_assets/ä½¿ç”¨æ€è·¯.jpg)

# åŠŸèƒ½æ¸…å•
> â„¹ å¦‚æœªé¢å¤–æ³¨æ˜ï¼Œä¸€èˆ¬ä»…åœ¨5.9ç‰ˆæœ¬ä¸Šæµ‹è¯•è¿‡

> æ ‡æ³¨â˜‘ï¸çš„ç‰¹æ€§**å·²å®ç°**ï¼Œæ ‡æ³¨â¬œçš„ç‰¹æ€§**å¾…å®ç°**

### æ¨¡æ¿æ¨¡å¼
> âš ï¸ å‰ªæ˜ 6+ç‰ˆæœ¬å¯¹`draft_content.json`æ–‡ä»¶è¿›è¡Œäº†åŠ å¯†ï¼Œæ•…**æœ¬ç³»åˆ—åŠŸèƒ½ç›®å‰ä»…æ”¯æŒå‰ªæ˜ 5.9åŠä»¥ä¸‹ç‰ˆæœ¬**

- â˜‘ï¸ [åŠ è½½](#åŠ è½½æ¨¡æ¿)ï¼ˆæœªåŠ å¯†çš„ï¼‰`draft_content.json`æ–‡ä»¶ä½œä¸ºæ¨¡æ¿
- â˜‘ï¸ [æ›¿æ¢éŸ³è§†é¢‘ç‰‡æ®µçš„ç´ æ](#æ ¹æ®åç§°æ›¿æ¢ç´ æ)
- â˜‘ï¸ [ä¿®æ”¹æ–‡æœ¬ç‰‡æ®µçš„æ–‡æœ¬å†…å®¹](#æ›¿æ¢æ–‡æœ¬ç‰‡æ®µçš„å†…å®¹)
- â¬œ å°†æ¨¡æ¿è‰ç¨¿ä¸­çš„è½¨é“æ•´ä½“å¯¼å…¥åˆ°å¦ä¸€è‰ç¨¿ä¸­
- â˜‘ï¸ [æå–æ¨¡æ¿ä¸­å‡ºç°çš„è´´çº¸/æ°”æ³¡/èŠ±å­—ç­‰å…ƒä¿¡æ¯](#æå–ç´ æå…ƒæ•°æ®)

### æ‰¹é‡å¯¼å‡º
> âš ï¸ å‰ªæ˜ 7+ç‰ˆæœ¬éšè—äº†æ§ä»¶ï¼Œæ•…**æœ¬ç³»åˆ—åŠŸèƒ½ç›®å‰ä»…æ”¯æŒå‰ªæ˜ 6åŠä»¥ä¸‹ç‰ˆæœ¬**

- â˜‘ï¸ æ§åˆ¶å‰ªæ˜ æ‰“å¼€æŒ‡å®šè‰ç¨¿
- â˜‘ï¸ [å¯¼å‡ºè‰ç¨¿è‡³æŒ‡å®šä½ç½®](#æ‰¹é‡å¯¼å‡ºè‰ç¨¿)
- â˜‘ï¸ è°ƒèŠ‚å¯¼å‡ºåˆ†è¾¨ç‡å’Œå¸§ç‡
- æ„Ÿè°¢`@litter jump`æä¾›éƒ¨åˆ†æ€è·¯

### è§†é¢‘ä¸å›¾ç‰‡
> â„¹ ä»¥ä¸‹è‰ç¨¿ç”ŸæˆåŠŸèƒ½ï¼ˆéŸ³è§†é¢‘ã€è´´çº¸ã€æ–‡æœ¬ã€ç‰¹æ•ˆç­‰ï¼‰æ”¯æŒå‰ªæ˜ 5åŠä»¥ä¸Šçš„æ‰€æœ‰ç‰ˆæœ¬

- â˜‘ï¸ æ·»åŠ æœ¬åœ°è§†é¢‘/å›¾ç‰‡ç´ æï¼Œå¹¶[è‡ªå®šä¹‰ç‰‡æ®µçš„æ—¶é—´ã€æŒç»­æ—¶é•¿æˆ–æ’­æ”¾é€Ÿåº¦](#ç´ ææˆªå–ä¸æ•´ä½“å˜é€Ÿ)
- â˜‘ï¸ [è§†é¢‘æ•´ä½“è°ƒèŠ‚](#è§†é¢‘æ•´ä½“è°ƒèŠ‚)ï¼ˆæ—‹è½¬ã€ç¼©æ”¾ã€äº®åº¦ç­‰ï¼‰ä»¥åŠ[å…³é”®å¸§ç”Ÿæˆ](#å…³é”®å¸§)
- â˜‘ï¸ è§†é¢‘ç‰‡æ®µçš„[å…¥åœº/å‡ºåœº/ç»„åˆåŠ¨ç”»](#æ·»åŠ ç‰‡æ®µåŠ¨ç”»)
- â˜‘ï¸ æ·»åŠ [è’™ç‰ˆ](#è’™ç‰ˆ)ã€[ç‰‡æ®µç‰¹æ•ˆ](#æ·»åŠ ç‰‡æ®µç‰¹æ•ˆ)å’Œ[æ»¤é•œ](#æ·»åŠ ç‰‡æ®µæ»¤é•œ)
### è´´çº¸
- â˜‘ï¸ æ ¹æ®å…ƒä¿¡æ¯[æ·»åŠ è´´çº¸](#æå–ç´ æå…ƒæ•°æ®)
- â˜‘ï¸ è´´çº¸çš„[å…³é”®å¸§](#å…³é”®å¸§)ç”Ÿæˆ
### éŸ³é¢‘
- â˜‘ï¸ æ·»åŠ æœ¬åœ°éŸ³é¢‘ç´ æï¼Œå¹¶[è‡ªå®šä¹‰ç‰‡æ®µçš„æ—¶é—´ã€æŒç»­æ—¶é•¿æˆ–æ’­æ”¾é€Ÿåº¦](#ç´ ææˆªå–ä¸æ•´ä½“å˜é€Ÿ)
- â˜‘ï¸ è°ƒæ•´æ·¡å…¥æ·¡å‡ºæ—¶é•¿[(ç¤ºä¾‹ä»£ç )](demo.py)ï¼Œè°ƒæ•´éŸ³é‡[(ç¤ºä¾‹ä»£ç )](demo.py)åŠå…¶[å…³é”®å¸§](#å…³é”®å¸§)
- â˜‘ï¸ æ·»åŠ éŸ³é¢‘ç‰‡æ®µçš„[åœºæ™¯éŸ³æ•ˆæœ](#æ·»åŠ ç‰‡æ®µç‰¹æ•ˆ)ï¼Œå¹¶è®¾ç½®å‚æ•°
### è½¨é“
- â˜‘ï¸ [æ·»åŠ è½¨é“](#å¤šè½¨é“æ“ä½œ)ä»¥åŠ[å°†ç‰‡æ®µæ·»åŠ åˆ°æŒ‡å®šè½¨é“](#å¤šè½¨é“æ“ä½œ)
- â˜‘ï¸ è‡ªå®šä¹‰è§†é¢‘/æ»¤é•œ/ç‰¹æ•ˆè½¨é“çš„[å±‚çº§å…³ç³»](#å¤šè½¨é“æ“ä½œ)
### ç‰¹æ•ˆã€æ»¤é•œå’Œè½¬åœº
- â˜‘ï¸ å¸é™„äºç‰‡æ®µä¸Šçš„[ç‰¹æ•ˆ](#æ·»åŠ ç‰‡æ®µç‰¹æ•ˆ)ã€[æ»¤é•œ](#æ·»åŠ ç‰‡æ®µæ»¤é•œ)å’Œ[åŠ¨ç”»](#æ·»åŠ ç‰‡æ®µåŠ¨ç”»)
- â˜‘ï¸ ä½äº[ç‹¬ç«‹è½¨é“çš„ç‰¹æ•ˆå’Œæ»¤é•œ](#ç‹¬ç«‹è½¨é“ä¸Šçš„ç‰¹æ•ˆå’Œæ»¤é•œ)
- â˜‘ï¸ æ·»åŠ è½¬åœº[(ç¤ºä¾‹ä»£ç )](demo.py)ï¼Œå¹¶è‡ªå®šä¹‰å…¶æ—¶é•¿
### æ–‡æœ¬åŠå­—å¹•
- â˜‘ï¸ [æ·»åŠ æ–‡æœ¬ã€è®¾ç½®å­—ä½“åŠæ ·å¼](#æ·»åŠ æ–‡æœ¬)ã€ä¿®æ”¹æ–‡æœ¬ç‰‡æ®µçš„[ä½ç½®åŠæ—‹è½¬è®¾ç½®](#è§†é¢‘æ•´ä½“è°ƒèŠ‚)
- â˜‘ï¸ æ–‡æœ¬çš„[å…³é”®å¸§](#å…³é”®å¸§)ä»¥åŠ[åŠ¨ç”»](#æ·»åŠ ç‰‡æ®µåŠ¨ç”»)
- â˜‘ï¸ æ–‡å­—æè¾¹å’Œæ–‡å­—èƒŒæ™¯
- â˜‘ï¸ æ–‡å­—æ°”æ³¡æ•ˆæœå’ŒèŠ±å­—æ•ˆæœ[(ç¤ºä¾‹ä»£ç )](demo.py)
- â˜‘ï¸ [å¯¼å…¥`.srt`æ–‡ä»¶](#å¯¼å…¥å­—å¹•)ç”Ÿæˆå­—å¹•å¹¶æ‰¹é‡è®¾ç½®æ ¼å¼

# å®‰è£…
pyJianYingDraftç°å·²æ”¯æŒpipå®‰è£…ï¼ˆä¸å«demoï¼‰ï¼Œæ¨èä½¿ç”¨å¼€å‘æ—¶æµ‹è¯•çš„Pythonç‰ˆæœ¬3.8æˆ–3.11
```
pip install pyJianYingDraft
```

> â„¹ å¦‚é‡å®‰è£…åimportå¤±è´¥, å¯èƒ½ä¸uiautomationçš„å…¼å®¹æ€§é—®é¢˜æœ‰å…³ï¼Œå‚è§[ç›¸å…³issue](https://github.com/GuanYixuan/pyJianYingDraft/issues/12)

# å¿«é€Ÿä¸Šæ‰‹
ä¾‹ç¨‹`demo.py`å°†åˆ›å»ºåŒ…å«éŸ³è§†é¢‘ç´ æå’Œä¸€è¡Œæ–‡æœ¬çš„å‰ªæ˜ è‰ç¨¿æ–‡ä»¶ï¼Œå¹¶ä¸”æ·»åŠ äº†éŸ³é¢‘æ·¡å…¥ã€è§†é¢‘å…¥åœºåŠ¨ç”»ã€è½¬åœºæ•ˆæœå’Œæ–‡æœ¬æ°”æ³¡/èŠ±å­—ã€‚

è¿™ä¸ªä¾‹ç¨‹çš„æ“ä½œæ–¹æ³•å¦‚ä¸‹ï¼š
1. åœ¨å‰ªæ˜ é‡Œ**åˆ›å»ºä¸€ä¸ªç©ºè‰ç¨¿**ï¼Œæ‰¾åˆ°å®ƒå¯¹åº”çš„**æ–‡ä»¶å¤¹è·¯å¾„**ï¼ˆç±»ä¼¼`.../JianyingPro Drafts/9æœˆ5æ—¥`ï¼‰
2. **è¿”å›å‰ªæ˜ é¦–é¡µ**æˆ–é€€å‡ºå‰ªæ˜ 
3. å°†ä»£ç ä¸­`DUMP_PATH`å˜é‡çš„å€¼æ”¹ä¸º**è‰ç¨¿æ–‡ä»¶å¤¹ä¸‹çš„`draft_content.json`è·¯å¾„**ï¼Œéšåè¿è¡Œ`demo.py`
4. ç°åœ¨åœ¨å‰ªæ˜ ä¸­**é‡æ–°æ‰“å¼€è¿™ä¸ªè‰ç¨¿**ï¼Œä½ åº”è¯¥çœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹çš„æ—¶é—´è½´ï¼š

![å¿«é€Ÿä¸Šæ‰‹](readme_assets/å¿«é€Ÿä¸Šæ‰‹.png)

ä½ å¯ä»¥ä»”ç»†æ£€æŸ¥éŸ³é¢‘ç‰‡æ®µçš„éŸ³é‡è®¾ç½®ã€æ·¡å…¥æ•ˆæœæ—¶é•¿ä»¥åŠè§†é¢‘ç‰‡æ®µçš„å…¥åœºåŠ¨ç”»æ•ˆæœç­‰ï¼Œçœ‹çœ‹æ˜¯å¦ç¬¦åˆä¸Šè¿°ä»£ç çš„è®¾ç½®

# ç”¨æ³•æ–‡æ¡£

> â„¹ æ–‡æ¡£éƒ¨åˆ†æ¨èä»[åŠŸèƒ½æ¸…å•](#åŠŸèƒ½æ¸…å•)ä¸€èŠ‚ä¸­é€‰å–æ„Ÿå…´è¶£çš„åŠŸèƒ½é˜…è¯»ï¼Œè€Œéç›´æ¥æŒ‰é¡ºåºé˜…è¯»

### æ¨¡æ¿æ¨¡å¼
ä¸ºäº†ä¿ç•™éƒ¨åˆ†å¤æ‚ç‰¹æ€§ï¼ˆæ–‡æœ¬ç‰¹æ•ˆã€å¤åˆç‰‡æ®µ...ï¼‰ï¼Œå¯ä»¥åŠ è½½ä¸€ä¸ªå·²æœ‰çš„å‰ªæ˜ è‰ç¨¿ä½œä¸ºæ¨¡æ¿ï¼Œç„¶å**æ›¿æ¢å…¶ä¸­éƒ¨åˆ†ç‰‡æ®µçš„å†…å®¹**ã€‚

ç›®å‰æä¾›äº†**ä¸‰ç§æ›¿æ¢åŠŸèƒ½**ï¼š
- [æ ¹æ®åç§°æ›¿æ¢ç´ æ](#æ ¹æ®åç§°æ›¿æ¢ç´ æ)ï¼šç›´æ¥æ›¿æ¢ç´ ææœ¬èº«ï¼Œè‡ªç„¶å½±å“æ‰€æœ‰å¼•ç”¨è¯¥ç´ æçš„ç‰‡æ®µ
- [æ ¹æ®ç‰‡æ®µæ›¿æ¢ç´ æ](#æ ¹æ®ç‰‡æ®µæ›¿æ¢ç´ æ)ï¼šæ›¿æ¢æŸä¸ªç‰¹å®šç‰‡æ®µçš„ç´ æï¼ŒåŒæ—¶é‡æ–°é€‰å–å…¶å¼•ç”¨çš„ç´ æèŒƒå›´
- [æ›¿æ¢æ–‡æœ¬ç‰‡æ®µçš„å†…å®¹](#æ›¿æ¢æ–‡æœ¬ç‰‡æ®µçš„å†…å®¹)ï¼šä¿ç•™æ‰€æœ‰æ–‡æœ¬æ ¼å¼ï¼Œä½†æ›¿æ¢å…¶å†…å®¹

é™¤æ­¤ä¹‹å¤–ï¼Œå¯¹äºæŸäº›æ²¡æœ‰ç‰¹å®šåç§°çš„ç‰¹æ€§ï¼ˆè´´çº¸ã€èŠ±å­—ç­‰ï¼‰ï¼Œæä¾›äº†[æå–ç´ æå…ƒæ•°æ®](#æå–ç´ æå…ƒæ•°æ®)çš„åŠŸèƒ½ä»¥æå–å…¶`resource_id`

> âš ï¸ ç”±äºå‰ªæ˜ 6+ç‰ˆæœ¬å¯¹è‰ç¨¿æ–‡ä»¶è¿›è¡Œäº†åŠ å¯†ï¼Œæ•…**æš‚ä¸æ”¯æŒåŠ è½½æ¥è‡ª6+ç‰ˆæœ¬çš„è‰ç¨¿æ–‡ä»¶**ä½œä¸ºæ¨¡æ¿

> â„¹ è‹¥å‡ºç°æ¨¡æ¿å†…å®¹ä¸¢å¤±çš„æƒ…å†µï¼Œæ¬¢è¿åé¦ˆ

#### åŠ è½½æ¨¡æ¿
æ¨èä½¿ç”¨`Draft_folder`æ¥ç®¡ç†å‰ªæ˜ çš„è‰ç¨¿æ–‡ä»¶å¤¹ï¼ˆå¯ä»¥åœ¨å‰ªæ˜ çš„`å…¨å±€è®¾ç½®`-`è‰ç¨¿ä½ç½®`ä¸­æŸ¥è¯¢ï¼‰ï¼Œè¿™æ ·èƒ½å¤Ÿæ–¹ä¾¿åœ°æ ¹æ®å·²æœ‰æ¨¡æ¿ç”Ÿæˆæ–°è‰ç¨¿ã€‚

```python
import pyJianYingDraft as draft

draft_folder = draft.Draft_folder("<å‰ªæ˜ è‰ç¨¿æ–‡ä»¶å¤¹>")  # ä¸€èˆ¬å½¢å¦‚ ".../JianyingPro Drafts"
script = draft_folder.duplicate_as_template("æ¨¡æ¿è‰ç¨¿", "æ–°è‰ç¨¿")  # å¤åˆ¶"æ¨¡æ¿è‰ç¨¿"ï¼Œå¹¶å‘½åä¸º"æ–°è‰ç¨¿"ï¼ŒåŒæ—¶æ‰“å¼€æ–°è‰ç¨¿ä¾›ç¼–è¾‘

# å¯¹è¿”å›çš„Script_fileå¯¹è±¡è¿›è¡Œç¼–è¾‘ï¼Œå¦‚æ›¿æ¢ç´ æã€æ·»åŠ è½¨é“ã€ç‰‡æ®µç­‰

script.save()  # ä¿å­˜ä½ çš„"æ–°è‰ç¨¿"
```

ä¸ºäº†æœ€å¤§é™åº¦åœ°å…¼å®¹æ¨¡æ¿ä¸­çš„å¤æ‚ç‰¹æ€§ï¼Œ**å¯¼å…¥çš„è½¨é“ä¸pyJianYingDraftåˆ›å»ºçš„è½¨é“æ˜¯åˆ†ç¦»å¼€çš„**ï¼Œå…·ä½“åœ°è®²ï¼š

- é™¤ä¸‹è¿°æ›¿æ¢åŠŸèƒ½å¤–ï¼Œä¸èƒ½åœ¨å¯¼å…¥çš„è½¨é“ä¸Šæ·»åŠ ç‰‡æ®µã€è½¬åœºã€æ·¡å…¥æ·¡å‡ºã€ç‰¹æ•ˆç­‰
- **ä»ç„¶å¯ä»¥åˆ›å»ºæ–°çš„è½¨é“ï¼Œå¹¶åœ¨å…¶ä¸Šæ·»åŠ ç‰‡æ®µç­‰**ï¼Œå°±åƒéæ¨¡æ¿æ¨¡å¼ä¸€æ ·

> â„¹ å¯¼å…¥è½¨é“çš„é™åˆ¶ä¹Ÿè®¸ä¼šåœ¨åç»­ç‰ˆæœ¬ä¸­é€æ¸å–æ¶ˆ

#### æå–ç´ æå…ƒæ•°æ®
å¯¹å¯¼å…¥çš„`Script_file`å¯¹è±¡ï¼Œå¯ä»¥è°ƒç”¨`inspect_material`æ–¹æ³•æå–éƒ¨åˆ†ç´ æçš„`resource_id`ã€‚
`Draft_folder`ä¹Ÿæœ‰ç›¸åº”çš„æ–¹æ³•æ¥æå–æŒ‡å®šè‰ç¨¿çš„ç´ æå…ƒæ•°æ®ã€‚

```python
import pyJianYingDraft as draft

draft_folder = draft.Draft_folder("<å‰ªæ˜ è‰ç¨¿æ–‡ä»¶å¤¹>")
draft_folder.inspect_material("è‰ç¨¿åç§°")

# æˆ–è€…
script = draft_folder.load_template("è‰ç¨¿åç§°")
script.inspect_material()
```

ä¸Šè¿°ä»£ç çš„è¾“å‡ºå¯èƒ½ç±»ä¼¼äº

```
è´´çº¸ç´ æ:
        Resource id: 7405878923323641129 'ç§‹æ—¥æ‰‹ç»˜-æ«å¶'
        Resource id: 7429353555447893260 'ç”µå•†è´­ç‰©ä¿ƒé”€/å“‡å“¦'
        Resource id: 7437707455267671315 'å†¬æ—¥æ¶‚é¸¦winteré›ªèŠ±å†¬å¤©vlogè£…é¥°æ–‡å­—'
        Resource id: 7343931192204463401 'çˆ±å¿ƒ'
æ–‡å­—æ°”æ³¡æ•ˆæœ:
        Effect id: 763870 ,Resource id: 6838834573413978631 'æ ‡é¢˜59'
èŠ±å­—æ•ˆæœ:
        Resource id: 7342020000812731658 'å½©è‰²æ‰‹ç»˜çº¿æ¡èŠ±å­—'
```

å…¶ä¸­çš„å…ƒæ•°æ®å¯ç”¨äºæ·»åŠ ç›¸åº”ç´ æï¼ˆä¾‹å¦‚é€šè¿‡`Sticker_segment`çš„`resource_id`å‚æ•°ï¼‰

#### æ ¹æ®åç§°æ›¿æ¢ç´ æ
è¿™ç§æ–¹æ³•å°†æ›¿æ¢ç´ ææœ¬èº«ï¼Œè€Œä¸å¯¹ç‰‡æ®µè¿›è¡Œç›´æ¥ä¿®æ”¹ã€‚

> â„¹ ç”±äºç´ ææœ‰åç§°ï¼ˆé»˜è®¤æ˜¯æœ¬åœ°æ–‡ä»¶çš„åç§°ï¼‰ï¼Œè¿™ç§æ›¿æ¢æ–¹å¼çš„å®šä½æ¯”è¾ƒæ–¹ä¾¿

> â„¹ ç”±äºä¸æ¶‰åŠæ—¶é—´èŒƒå›´çš„ä¿®æ”¹ï¼Œè¿™ç§æ›¿æ¢æ–¹å¼**å°¤å…¶é€‚åˆå›¾åƒç´ æ**ï¼Œä¸”å‡ ä¹ä¸ä¼šäº§ç”Ÿå…¼å®¹æ€§çš„é—®é¢˜

ä»¥[å¿«é€Ÿä¸Šæ‰‹](#å¿«é€Ÿä¸Šæ‰‹)ä¸­çš„è‰ç¨¿ä¸ºä¾‹ï¼Œå‡å¦‚æˆ‘ä»¬å¸Œæœ›æ¢ç”¨æ–°çš„éŸ³é¢‘ç´ æï¼Œå¯ä»¥ï¼š
```python
new_material = draft.Audio_material("<æ–°çš„éŸ³é¢‘ç´ æè·¯å¾„>")
script.replace_material_by_name("audio.mp3", new_material)  # æ›¿æ¢åç§°ä¸º"audio.mp3"çš„ç´ æ
```

æ›¿æ¢æ–°ç´ æåï¼Œç‰‡æ®µæ‰€æˆªå–çš„éƒ¨åˆ†ä»æ˜¯ç´ æå‰5ç§’ï¼Œä¸”éŸ³é‡ã€æ·¡å…¥æ·¡å‡ºã€æ’­æ”¾é€Ÿåº¦ç­‰ä»ä¿æŒä¸å˜ã€‚

#### æ ¹æ®ç‰‡æ®µæ›¿æ¢ç´ æ
è¿™ç§æ–¹æ³•å°†æ›¿æ¢æŸä¸ª**ç‰¹å®šç‰‡æ®µ**çš„ç´ æï¼ŒåŒæ—¶å¯ä»¥**é‡æ–°é€‰å–å…¶å¼•ç”¨çš„ç´ æèŒƒå›´**å¹¶**æ ¹æ®æ–°æ—¶é•¿åœ¨æ—¶é—´è½´ä¸Šä¼¸ç¼©ç‰‡æ®µ**ã€‚

> â„¹ ç”±äºç‰‡æ®µæ²¡æœ‰åç§°ï¼Œæ•…é€šå¸¸éœ€è¦**ä¾é ç‰‡æ®µçš„ä¸‹æ ‡æ¥å®šä½**

æ­¤è¿‡ç¨‹åˆ†ä¸ºä¸¤æ­¥ï¼š**é€‰å–è½¨é“**å’Œ**æ›¿æ¢ç´ æ**ï¼Œä»¥ä¸Šæ–¹éŸ³é¢‘ç´ æçš„æ›¿æ¢ä¸ºä¾‹ï¼š
```python
from pyJianYingDraft import trange, Shrink_mode, Extend_mode

audio_track = script.get_imported_track(
    draft.Track_type.audio,                # é€‰å–å¯¼å…¥çš„éŸ³é¢‘è½¨é“
    #name="audio",                         # å‡å¦‚è½¨é“æœ‰åç§°ï¼Œæœ€å¥½åˆ©ç”¨åç§°æ¥å®šä½
    index=0                                # ä¹Ÿå¯ç”¨ä¸‹æ ‡å®šä½, 0è¡¨ç¤ºæœ€åº•å±‚çš„åŒç±»å‹è½¨é“
)

script.replace_material_by_seg(
    audio_track, 0, new_material,          # é€‰å–audio_trackä¸­ä¸‹æ ‡ä¸º0çš„ç‰‡æ®µï¼Œä¹Ÿå³ç¬¬ä¸€ä¸ªç‰‡æ®µ
    #source_timerange=None,                # è‹¥ä¸æŒ‡å®šï¼Œåˆ™é»˜è®¤ä½¿ç”¨æ•´ä¸ªç´ æ
    source_timerange=trange("0s", "10s"),  # æ­¤å¤„æŒ‡å®šæˆªå–ç´ æå‰10ç§’(æ³¨æ„åŸç‰‡æ®µæ—¶é•¿ä¸º5ç§’)
    handle_shrink=Shrink_mode.cut_tail,    # ç‰‡æ®µè‹¥è¦ç¼©çŸ­ï¼Œåˆ™ä¾é å‰ç§»ç»ˆæ­¢ç‚¹æ¥å®ç°
    handle_extend=Extend_mode.push_tail    # ç‰‡æ®µè‹¥è¦å»¶é•¿ï¼Œåˆ™ä¾é åç§»ç»ˆæ­¢ç‚¹æ¥å®ç°ï¼Œå¿…è¦æ—¶å…è®¸åç§»åç»­ç‰‡æ®µ
)
```

ä»ä¾‹å­ä¸­å¯è§ï¼Œæ­¤æ›¿æ¢æ–¹æ³•å¯èƒ½ä¼šé€ æˆç‰‡æ®µçš„æ—¶é•¿å˜åŒ–ï¼Œæ•…å¯ä»¥åˆ©ç”¨`handle_shrink`å’Œ`handle_extend`å‚æ•°æŒ‡å®šç‰‡æ®µåœ¨ç¼©çŸ­å’Œå»¶é•¿æ—¶çš„å¤„ç†æ–¹å¼ã€‚

> â„¹ ä¸æ˜¾å¼æŒ‡å®š`handle_shrink`å’Œ`handle_extend`æ—¶ï¼Œé»˜è®¤çš„å¤„ç†æ–¹å¼å¦‚ä¸‹ï¼š
> - æ–°ç´ ææ¯”åŸç´ æçŸ­ï¼Œåˆ™å‰ç§»ç‰‡æ®µç»ˆæ­¢ç‚¹ï¼Œä½¿å¾—ç‰‡æ®µé•¿åº¦ä¸æ–°ç´ æé•¿åº¦ä¸€è‡´
> - æ–°ç´ ææ¯”åŸç´ æé•¿ï¼Œåˆ™è£å‰ªç´ æèŒƒå›´ï¼Œä¿æŒç‰‡æ®µåŸé•¿ä¸å˜

å…·ä½“çš„å¤„ç†æ–¹å¼åˆ—è¡¨å¯å‚è§æšä¸¾ç±»`Shrink_mode`å’Œ`Extend_mode`çš„å®šä¹‰ã€‚

> â„¹ ç›®å‰å·²çŸ¥æ›¿æ¢å¸¦æœ‰ç»„åˆå‡ºå…¥åœºåŠ¨ç”»çš„ç‰‡æ®µä¸ä¼šè‡ªåŠ¨åˆ·æ–°åŠ¨ç”»æ—¶é—´

#### æ›¿æ¢æ–‡æœ¬ç‰‡æ®µçš„å†…å®¹
è¿™ç§æ–¹æ³•å°†æ›¿æ¢æŸä¸ª**ç‰¹å®šæ–‡æœ¬ç‰‡æ®µ**çš„å†…å®¹ï¼Œä½†ä¿ç•™å…¶æ‰€æœ‰æ ¼å¼ã€‚

æ­¤è¿‡ç¨‹åŒæ ·åˆ†ä¸º**é€‰å–è½¨é“**å’Œ**æ›¿æ¢å†…å®¹**ä¸¤ä¸ªæ­¥éª¤ï¼šå…¶ä¸­â€œé€‰å–è½¨é“â€å¯å‚è€ƒ[æ ¹æ®ç‰‡æ®µæ›¿æ¢ç´ æ](#æ ¹æ®ç‰‡æ®µæ›¿æ¢ç´ æ)ä¸­çš„ç¤ºä¾‹ã€‚

ä»¥ä¸‹å‡å®šæˆ‘ä»¬å·²ç»é€‰å–äº†åˆé€‚çš„æ–‡æœ¬è½¨é“`text_track`ï¼Œåˆ™åªéœ€ï¼š
```python
script.replace_text(
    text_track, 0,  # é€‰å–text_trackä¸­ä¸‹æ ‡ä¸º0çš„ç‰‡æ®µï¼Œä¹Ÿå³ç¬¬ä¸€ä¸ªç‰‡æ®µ
    "æ–°æ–‡æœ¬å†…å®¹"     # æ–°çš„æ–‡æœ¬å†…å®¹
)
```

### æ‰¹é‡å¯¼å‡ºè‰ç¨¿
ä½œä¸ºæ•´ä¸ªè‡ªåŠ¨åŒ–æµç¨‹ä¸­çš„æœ€åä¸€æ­¥ï¼Œæœ¬é¡¹ç›®æä¾›äº†åŸºç¡€çš„è‰ç¨¿æ‰¹é‡å¯¼å‡ºåŠŸèƒ½ã€‚

> âš ï¸ å‰ªæ˜ 7+ç‰ˆæœ¬å¯¹æ§ä»¶è¿›è¡Œäº†éšè—ï¼Œæ•…æœ¬åŠŸèƒ½ç›®å‰**ä»…æ”¯æŒå‰ªæ˜ 6åŠä»¥ä¸‹ç‰ˆæœ¬**

> âš ï¸ æœ¬éƒ¨åˆ†åŠŸèƒ½ä¾èµ–äº`uiautomation`åº“ï¼Œæ•…ç›®å‰**ä»…æ”¯æŒåœ¨Windowsç³»ç»Ÿä¸‹è¿è¡Œ**

> â„¹ å¯¼å‡ºç¨‹åºä¼šå°†å‰ªæ˜ çª—å£ç½®é¡¶ï¼Œä¸”éœ€è¦æ§åˆ¶å…‰æ ‡è¿›è¡Œç‚¹å‡»ï¼Œ**å»ºè®®åœ¨é—²æ—¶/å¤œé—´è¿è¡Œ**

> â„¹ æœ¬éƒ¨åˆ†åŠŸèƒ½**åœ¨å‰ªæ˜ ä¸“ä¸šç‰ˆ5.9å’Œ6.8ä¸­æµ‹è¯•é€šè¿‡**

> â„¹ æœ‰ç”¨æˆ·åæ˜ éƒ¨åˆ†Pythonç‰ˆæœ¬(å¦‚3.13)ä¸‹`uiautomation`ä¼šå‡ºç°ä¾èµ–é—®é¢˜, æ¨èä½¿ç”¨3.8ã€3.10æˆ–3.11, [è¯¦è§æ­¤å¤„](https://github.com/GuanYixuan/pyJianYingDraft/issues/12)

> âš ï¸ è¯·**ç¡®è®¤æœ‰å¯¼å‡ºè‰ç¨¿çš„ç›¸å…³æƒé™(ä¸ä½¿ç”¨VIPåŠŸèƒ½æˆ–å·²å¼€é€šVIP)**, å¦åˆ™å¯èƒ½é™·å…¥æ­»å¾ªç¯

å¯¼å‡ºåˆ©ç”¨`Jianying_controller`ç±»è¿›è¡Œï¼Œå…·ä½“ç”¨æ³•å¦‚ä¸‹ï¼š

```python
import pyJianYingDraft as draft
from pyJianYingDraft import Export_resolution, Export_framerate

# æ­¤å‰éœ€è¦å°†å‰ªæ˜ æ‰“å¼€ï¼Œå¹¶ä½äºç›®å½•é¡µ
ctrl = draft.Jianying_controller()

# ç„¶åå³å¯å¯¼å‡ºæŒ‡å®šåç§°çš„è‰ç¨¿, æ³¨æ„å¯¼å‡ºç»“æŸåè§†é¢‘æ‰ä¼šè¢«å‰ªåˆ‡(é‡å‘½å)è‡³æŒ‡å®šä½ç½®
ctrl.export_draft("è¦å¯¼å‡ºçš„è‰ç¨¿åç§°", "<å¯¼å‡ºè·¯å¾„>")  # "å¯¼å‡ºè·¯å¾„"å¯ä»¥æŒ‡å‘æ–‡ä»¶å¤¹æˆ–ç›´æ¥æŒ‡å‘æ–‡ä»¶

# è‹¥å¸Œæœ›è°ƒèŠ‚åˆ†è¾¨ç‡æˆ–å¸§ç‡, å¯ä½¿ç”¨`resolution`å’Œ`framerate`å‚æ•°
ctrl.export_draft("è¦å¯¼å‡ºçš„è‰ç¨¿åç§°", "<å¯¼å‡ºè·¯å¾„>",
                  resolution=Export_resolution.RES_1080P,
                  framerate=Export_framerate.FR_24)
```

é‡å¤ä¸Šè¿°å•æ¬¡å¯¼å‡ºæ“ä½œå³å¯å®ç°æ‰¹é‡å¯¼å‡ºï¼Œç±»ä¼¼å¦‚ä¸‹ä»£ç ï¼š
```python
draft_names = ...
export_folder = ...
for name in draft_names:
    ctrl.export_draft(name, os.path.join(export_folder, name, ".mp4"))
```

### æ—¶é—´ä¸è½¨é“

#### æ—¶é—´æ ¼å¼
**å‰ªæ˜ ï¼ˆå’Œæœ¬é¡¹ç›®ï¼‰å†…éƒ¨å‡é‡‡ç”¨å¾®ç§’ä¸ºå•ä½ä¿å­˜æ—¶é—´**ï¼Œä½†è¿™ä¸ä¾¿äºè¾“å…¥ï¼Œæ•…æˆ‘ä»¬å¢åŠ äº†ä¸€ç§â€œå­—ç¬¦ä¸²å½¢å¼â€çš„æ—¶é—´ï¼Œå¤§éƒ¨åˆ†æ—¶é—´å‚æ•°å‡åŒæ—¶æ”¯æŒè¿™ä¸¤ç§å½¢å¼ï¼š
- å¾®ç§’å½¢å¼ï¼šç”¨`int`è¡¨è¾¾ï¼Œé€‚äºè®¡ç®—
- å­—ç¬¦ä¸²å½¢å¼ï¼šç”¨`str`è¡¨è¾¾ï¼Œå¦‚`"1.5s"`ã€`"1h3m12s"`ç­‰ï¼Œæ˜“äºè¾“å…¥

å¦‚æœä½ å¸Œæœ›æ˜¾å¼åœ°å°†å­—ç¬¦ä¸²å½¢å¼è½¬æ¢ä¸ºå¾®ç§’å½¢å¼ï¼Œå¯ä»¥ä½¿ç”¨`tim`å‡½æ•°ï¼›`trange`å‡½æ•°åˆ™æ˜¯æ”¯æŒå­—ç¬¦ä¸²å½¢å¼è¾“å…¥çš„`Timerange`ä¾¿æ·æ„é€ å‡½æ•°ã€‚

> âš ï¸ æ³¨æ„`trange`çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯**æŒç»­æ—¶é•¿**ï¼Œè€Œä¸æ˜¯ç»“æŸæ—¶é—´

ä¾‹å¦‚ï¼š
```python
import pyJianYingDraft as draft
from pyJianYingDraft import SEC, tim, trange

# 1ç§’é’Ÿ
assert 1000000 == SEC == tim("1s") == tim("0.01666667m")

# 0~1åˆ†é’Ÿ
assert draft.Timerange(0, 60*SEC) == trange("0s", "1m") == trange("0s", "0.5m30s")

# ç‰‡æ®µå¼€å§‹å2ç§’
seg: draft.Video_segment
assert seg.target_timerange.start + 2*SEC == seg.target_timerange.start + tim("2s")
```

#### ç´ ææˆªå–ä¸æ•´ä½“å˜é€Ÿ
æˆªå–å’Œå˜é€Ÿå‡åœ¨`Segment`åˆ›å»ºæ—¶è®¾ç½®å®Œæˆï¼Œå…·ä½“æ˜¯é€šè¿‡`target_timerange`ã€`source_timerange`å’Œ`speed`å‚æ•°æ¥å…±åŒå®ç°çš„ã€‚
> â„¹ ç›®å‰æš‚ä¸æ”¯æŒè®¾ç½®æ›²çº¿å˜é€Ÿ

ä»¥ä¸‹ä»¥`Video_segment`ä¸ºä¾‹ï¼Œ`Audio_segment`çš„ç”¨æ³•ç›¸åŒï¼š
```python
import os
import pyJianYingDraft as draft
from pyJianYingDraft import trange, SEC

# åˆ›å»ºè‰ç¨¿æ–‡ä»¶åŠä¸‰ä¸ªè½¨é“
script = draft.Script_file(1080, 1080)
for i in range(3, 0, -1): # å€’åº
    script.add_track(draft.Track_type.video, "%d" % i)

# è¯»å–è§†é¢‘ç´ æ
tutorial_asset_dir = os.path.join(os.path.dirname(__file__), 'readme_assets', 'tutorial')
mat = draft.Video_material(os.path.join(tutorial_asset_dir, 'video.mp4'))

# è§†é¢‘ç´ æé•¿åº¦ä¸º 5s
print("Video material length: %f s" % (mat.duration / SEC))

# ä¸æŒ‡å®šsource_timerangeï¼Œåˆ™è‡ªåŠ¨ä»å¤´æˆªå–ç´ æç­‰é•¿ç‰‡æ®µ
seg11 = draft.Video_segment(mat, trange("0s", "4s"))              # è‡ªåŠ¨æˆªå–ç´ æçš„å‰4ç§’ï¼ˆ4sè¡¨ç¤ºæŒç»­æ—¶é•¿ï¼‰
seg2  = draft.Video_segment(mat, trange("0s", "4s"), speed=1.25)  # è‡ªåŠ¨æˆªå–ç´ æçš„å‰4*1.25=5ç§’
seg4  = draft.Video_segment(mat, trange("0s", "3s"), speed=3.0)   # æˆªå–å‰3*3.0=9ç§’ï¼Œç´ æä¸å¤Ÿé•¿æ•…æŠ¥é”™

# æŒ‡å®šsource_timerangeï¼Œåˆ™æˆªå–ç´ æçš„æŒ‡å®šç‰‡æ®µï¼Œè‡ªåŠ¨è®¾ç½®é€Ÿåº¦
seg12 = draft.Video_segment(mat, trange("4s", "1s"),
                            source_timerange=trange(0, "4s"))     # å°†ç´ æåœ¨1så†…æ”¾å®Œï¼Œé€Ÿåº¦è‡ªåŠ¨è®¾ç½®ä¸º5.0

# åŒæ—¶æŒ‡å®šsource_timerangeå’Œspeedï¼Œåˆ™æˆªå–ç´ æçš„æŒ‡å®šç‰‡æ®µï¼Œå¹¶æ ¹æ®æ’­æ”¾é€Ÿåº¦è¦†ç›–target_timerangeçš„duration
seg3  = draft.Video_segment(mat, trange("1s", "66666h"),
                            source_timerange=trange(0, "5s"),
                            speed=2.0) # å°†é•¿5sçš„ç´ ææŒ‰2å€é€Ÿæ”¾å®Œï¼Œtarget_timerangeçš„durationè‡ªåŠ¨è®¾ä¸º2.5s

# å°†ç‰‡æ®µåŠ å…¥è½¨é“
script.add_segment(seg11, "1").add_segment(seg12, "1")
script.add_segment(seg2, "2")
script.add_segment(seg3, "3")

# ä¿å­˜è‰ç¨¿
script.dump("*ä½ çš„è‰ç¨¿å·¥ç¨‹æ–‡ä»¶å¤¹*/draft_content.json")
```

#### å¤šè½¨é“æ“ä½œ
ç›®å‰`Script_file.add_track`æ–¹æ³•å·²æ”¯æŒåˆ›å»ºå¤šä¸ªåŒç±»å‹è½¨é“ï¼Œå¹¶æ”¯æŒè‡ªå®šä¹‰å…¶é¡ºåºï¼š
```python
script.add_track(draft.Track_type.video,
                 track_name="å‰æ™¯",       # è½¨é“å
                 relative_index=2)        # åœ¨æ‰€æœ‰è§†é¢‘è½¨é“ä¸­çš„ç›¸å¯¹ä½ç½®
script.add_track(draft.Track_type.video,
                 track_name="èƒŒæ™¯",
                 relative_index=1)        # ç”±äº1<2ï¼Œæ‰€ä»¥å‰æ™¯è½¨é“ä½äºæ›´ä¸Šæ–¹
```

ä¸€æ—¦åˆ›å»ºäº†å¤šä¸ªåŒç±»è½¨é“ï¼Œåˆ™åœ¨æ·»åŠ ç‰‡æ®µæ—¶å¿…é¡»æŒ‡å®šç›®æ ‡è½¨é“ï¼Œä¾‹å¦‚ï¼š
```python
script.add_segment(video_segment, "èƒŒæ™¯")
```

### è§†é¢‘æ•´ä½“è°ƒèŠ‚
æ¯ä¸ªè§†é¢‘ç‰‡æ®µéƒ½å¯ä»¥å•ç‹¬è®¾ç½®è£å‰ªã€æ—‹è½¬ã€ç¿»è½¬ã€ç¼©æ”¾ã€é€æ˜åº¦ã€äº®åº¦ç­‰å±æ€§ï¼Œè¿™äº›è®¾ç½®é€šè¿‡`Video_segment`æ„é€ å‡½æ•°ä¸­çš„`clip_settings`å‚æ•°ä¼ å…¥
> â„¹ å…³é”®å¸§çš„ä¼˜å…ˆçº§é«˜äºæ•´ä½“è°ƒèŠ‚ï¼Œæ•…å‰è€…ä¼šè¦†ç›–åè€…çš„ç›¸åº”è®¾ç½®

ä¸‹æ–¹çš„ä¾‹å­å°†åˆ›å»ºä¸€ä¸ªè§†é¢‘ç‰‡æ®µï¼Œå¹¶è®¾ç½®å…¶ä¸é€æ˜åº¦ä¸º0.5ã€æ‰“å¼€æ°´å¹³ç¿»è½¬ï¼š
```python
from pyJianYingDraft import Clip_settings
video_segment = draft.Video_segment(video_material,
                                    draft.Timerange(0, video_material.duration),      # ä¸ç´ æç­‰é•¿
                                    clip_settings=Clip_settings(alpha=0.5,            # ä¸é€æ˜åº¦ä¸º0.5
                                                                flip_horizontal=True) # æ‰“å¼€æ°´å¹³ç¿»è½¬
                                    )
```

æ›´å…·ä½“çš„å‚æ•°è¯´æ˜å¯å‚è§`Clip_settings`çš„æ„é€ å‡½æ•°ã€‚

### å…³é”®å¸§
å…³é”®å¸§æ˜¯å¸é™„åœ¨**ç‰‡æ®µ**ä¸Šçš„â€œæ—¶åˆ»-æ•°å€¼â€å¯¹ï¼Œæ‰€ä»¥åˆ›å»ºå…³é”®å¸§åªéœ€è¦åœ¨`add_keyframe`æ–¹æ³•ä¸­æŒ‡å®š**ç›¸å¯¹ç‰‡æ®µå¤´éƒ¨çš„**æ—¶åˆ»ã€æ•°å€¼ä»¥åŠæ§åˆ¶çš„å±æ€§å³å¯ã€‚
> â„¹ ç›®å‰ä¸æ”¯æŒè®¾ç½®ç‰¹æ•ˆæˆ–æ»¤é•œå‚æ•°çš„å…³é”®å¸§

ä¸‹æ–¹çš„ä¾‹å­å°è¯•ä½¿ç”¨ä¸¤ä¸ªä¸é€æ˜åº¦å…³é”®å¸§æ¨¡æ‹Ÿè§†é¢‘çš„æ·¡å‡ºæ•ˆæœï¼š
```python
import os
import pyJianYingDraft as draft
from pyJianYingDraft import Keyframe_property, SEC

# åˆ›å»ºè‰ç¨¿åŠè§†é¢‘è½¨é“
script = draft.Script_file(1080, 1080)
script.add_track(draft.Track_type.video)
tutorial_asset_dir = os.path.join(os.path.dirname(__file__), 'readme_assets', 'tutorial')

# åˆ›å»ºè§†é¢‘ç‰‡æ®µ
video_material = draft.Video_material(os.path.join(tutorial_asset_dir, 'video.mp4'))
video_segment = draft.Video_segment(video_material,
                                    draft.Timerange(0, video_material.duration)) # ä¸ç´ æç­‰é•¿

# æ·»åŠ ä¸¤ä¸ªä¸é€æ˜åº¦å…³é”®å¸§å½¢æˆ1sçš„æ·¡å‡ºæ•ˆæœ
video_segment.add_keyframe(Keyframe_property.alpha, video_segment.duration - SEC, 1.0) # ç»“æŸå‰1så®Œå…¨ä¸é€æ˜
video_segment.add_keyframe(Keyframe_property.alpha, video_segment.duration, 0.0) # ç‰‡æ®µç»“æŸæ—¶å®Œå…¨é€æ˜

# æ·»åŠ ç‰‡æ®µåˆ°è½¨é“
script.add_segment(video_segment)

# ä¿å­˜è‰ç¨¿
script.dump("*ä½ çš„è‰ç¨¿å·¥ç¨‹æ–‡ä»¶å¤¹*/draft_content.json")
```

é™¤äº†`alpha`å¤–ï¼Œ`Keyframe_property`ä¸­è¿˜æœ‰å¹³ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ã€éŸ³é‡ã€é¥±å’Œåº¦ç­‰å±æ€§ï¼Œå®ƒä»¬éƒ½å¯ä»¥è®¾ç½®å…³é”®å¸§ã€‚
æ–‡æœ¬å’Œè´´çº¸ç‰‡æ®µçš„å…³é”®å¸§ä¹Ÿå¯ä»¥ç”¨ç›¸åŒæ–¹æ³•è¿›è¡Œè®¾ç½®ï¼Œä½†æ³¨æ„å®ƒä»¬åªæ”¯æŒä½ç½®å’Œå¤§å°ç›¸å…³çš„é‚£äº›å±æ€§ã€‚

å¯¹éŸ³é¢‘ç‰‡æ®µï¼Œç›®å‰åªèƒ½è®¾ç½®éŸ³é‡çš„å…³é”®å¸§ï¼Œæ­¤æ—¶ä½ ä¸éœ€è¦æŒ‡å®š`Keyframe_property`
```python
audio_segment: draft.Audio_segment
audio_segment.add_keyframe("0s", 0.6) # ç‰‡æ®µå¼€å§‹æ—¶çš„éŸ³é‡ä¸º60%
```

### è’™ç‰ˆ
è’™ç‰ˆçš„æ·»åŠ éå¸¸ç®€å•ï¼šè°ƒç”¨`Video_segment`çš„`add_mask`æ–¹æ³•å³å¯ï¼š
```python
from pyJianYingDraft import Mask_type

# æ·»åŠ ä¸€ä¸ªçº¿æ€§è’™ç‰ˆï¼Œä¸­å¿ƒç‚¹åœ¨ç´ æçš„(100, 0)åƒç´ å¤„ï¼Œé¡ºæ—¶é’ˆæ—‹è½¬45åº¦
video_segment1.add_mask(Mask_type.çº¿æ€§, center_x=100, rotation=45)
# æ·»åŠ ä¸€ä¸ªåœ†å½¢è’™ç‰ˆï¼Œç›´å¾„å ç´ æçš„50%
video_segment2.add_mask(Mask_type.åœ†å½¢, size=0.5)
```
å…¶ä¸­ï¼š
- `Mask_type`ä¿å­˜äº†å‰ªæ˜ è‡ªå¸¦çš„è’™ç‰ˆç±»å‹
- `center_x`å’Œ`center_y`å‚æ•°è¡¨ç¤ºè’™ç‰ˆä¸­å¿ƒç‚¹çš„åæ ‡ï¼Œä¸å‰ªæ˜ ä¸­æ„ä¹‰ä¸€è‡´
- `rotation`ã€`feather`ã€`round_corner`åˆ†åˆ«è¡¨ç¤ºæ—‹è½¬ã€ç¾½åŒ–ã€åœ†è§’å‚æ•°ï¼Œä¸å‰ªæ˜ ä¸­æ„ä¹‰ä¸€è‡´
- `size`å‚æ•°è¡¨ç¤ºè’™ç‰ˆçš„â€œä¸»è¦å°ºå¯¸â€ï¼ˆé•œé¢çš„å¯è§†éƒ¨åˆ†é«˜åº¦/åœ†å½¢ç›´å¾„/çˆ±å¿ƒé«˜åº¦ç­‰ï¼‰å ç´ æçš„æ¯”ä¾‹

æ›´å…·ä½“çš„å‚æ•°è¯´æ˜è¯·å‚è§`add_mask`æ–¹æ³•çš„æ³¨é‡Šã€‚

### ç‰¹æ•ˆã€åŠ¨ç”»å’Œæ»¤é•œ
#### ç‰¹æ•ˆç±»å‹
ç›®å‰æ”¯æŒçš„**ç‰¹æ•ˆ**ç±»å‹ç”±ä»¥ä¸‹æšä¸¾ç±»å®šä¹‰ï¼š
- éŸ³é¢‘ï¼š`Audio_scene_effect_type`ï¼ˆåœºæ™¯éŸ³ï¼‰
- è§†é¢‘ï¼š`Video_scene_effect_type`ï¼ˆç”»é¢ç‰¹æ•ˆï¼‰ã€`Video_character_effect_type`ï¼ˆäººç‰©ç‰¹æ•ˆï¼‰

ç›®å‰æ”¯æŒçš„**åŠ¨ç”»**ç±»å‹ç”±ä»¥ä¸‹æšä¸¾ç±»å®šä¹‰ï¼š
- è§†é¢‘ï¼š`Intro_type`ï¼ˆå…¥åœºï¼‰, `Outro_type`ï¼ˆå‡ºåœºï¼‰, `Group_animation_type`ï¼ˆç»„åˆåŠ¨ç”»ï¼‰
- æ–‡æœ¬ï¼š`Text_intro`ï¼ˆå…¥åœºï¼‰ã€`Text_outro`ï¼ˆå‡ºåœºï¼‰, `Text_loop_anim`ï¼ˆå¾ªç¯åŠ¨ç”»ï¼‰

**æ»¤é•œ**ç±»å‹åˆ™ä¿å­˜åœ¨`Filter_type`ä¸­ï¼Œä»…å¯¹è§†é¢‘ç‰‡æ®µæœ‰æ•ˆã€‚

ä¸Šè¿°æšä¸¾ç±»ä¸­çš„æˆå‘˜ï¼ˆé€šå¸¸ï¼‰ç›´æ¥**ä»¥ç‰¹æ•ˆæˆ–æ»¤é•œçš„åå­—å‘½å**ï¼Œå¹¶æ³¨é‡Šäº†ç›¸åº”å‚æ•°ï¼Œä¾‹å¦‚ï¼š

![ç‰¹æ•ˆç±»å‹](readme_assets/ç‰‡æ®µç‰¹æ•ˆ_annotation.jpg)

ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨`from_name`æ–¹æ³•æ¥è·å–ç‰¹å®šçš„æˆå‘˜ï¼Œå…¶å¿½ç•¥å¤§å°å†™ã€ç©ºæ ¼å’Œä¸‹åˆ’çº¿ï¼Œä¾‹å¦‚ï¼š

```python
assert Video_scene_effect_type.from_name("__å…¨æ¯ æ‰«æ__") == Video_scene_effect_type.å…¨æ¯æ‰«æ
```

#### æ·»åŠ ç‰‡æ®µç‰¹æ•ˆ
æ·»åŠ ç‰¹æ•ˆä½¿ç”¨çš„æ–¹æ³•æ˜¯`segment.add_effect()`ï¼Œå®ƒæ¥å—ç‰¹æ•ˆç±»å‹å’Œä¸€ä¸ªå‚æ•°æ•°ç»„ï¼Œå‚æ•°æ•°ç»„çš„é¡ºåº**ä¸ç‰¹æ•ˆç±»å‹æ³¨é‡Šä¸­çš„å‚æ•°é¡ºåºä¸€è‡´**ï¼Œä½†**ä¸ä¸€å®šä¸å‰ªæ˜ å†…çš„å‚æ•°é¡ºåºä¸€è‡´**ã€‚

ä¸‹æ–¹çš„ä¾‹å­ä¸ºè§†é¢‘ç‰‡æ®µæ·»åŠ ä¸€ä¸ª`å…¨æ¯æ‰«æ`ç‰¹æ•ˆï¼Œå¹¶ä¸”æŒ‡å®šå…¶`æ°›å›´`å‚æ•°ä¸ºï¼ˆå‰ªæ˜ ä¸­çš„ï¼‰100ï¼Œå…¶ä½™å‚æ•°é»˜è®¤ï¼š
```python
from pyJianYingDraft import Video_scene_effect_type

video_segment.add_effect(Video_scene_effect_type.å…¨æ¯æ‰«æ,
                         [None, None, 100.0]) # ä¸è®¾ç½®å‰ä¸¤ä¸ªå‚æ•°, ç¬¬ä¸‰ä¸ªå‚æ•°ï¼ˆæ°›å›´ï¼‰ä¸º100ï¼Œå…¶ä½™å‚æ•°ä¹Ÿä¸è®¾ç½®
```
éŸ³é¢‘ç‰‡æ®µçš„ç‰¹æ•ˆæ·»åŠ æ–¹æ³•ä¸è§†é¢‘ç‰‡æ®µç›¸ä¼¼

#### æ·»åŠ ç‰‡æ®µæ»¤é•œ
æ»¤é•œçš„æ·»åŠ æ–¹æ³•ä¸ç‰¹æ•ˆç±»ä¼¼ï¼Œå…¶ä½¿ç”¨çš„æ˜¯`Video_segment.add_filter()`æ–¹æ³•ã€‚
ä¸ç‰¹æ•ˆä¸åŒçš„æ˜¯ï¼Œæ»¤é•œåªæ”¯æŒä¸€ä¸ªâ€œæ»¤é•œå¼ºåº¦â€å‚æ•°ï¼Œä¸”ä»…å½“æ‰€é€‰æ»¤é•œèƒ½å¤Ÿè°ƒèŠ‚å¼ºåº¦æ—¶æœ‰æ•ˆã€‚

```python
from pyJianYingDraft import Filter_type

video_segment1.add_filter(Filter_type.åŸç”Ÿè‚¤, 10)  # è®¾ç½®"åŸç”Ÿè‚¤"å¼ºåº¦ä¸º10
video_segment2.add_filter(Filter_type.å†°é›ªä¸–ç•Œ, 50)  # è®¾ç½®"å†°é›ªä¸–ç•Œ"å¼ºåº¦ä¸º50
```

#### ç‹¬ç«‹è½¨é“ä¸Šçš„ç‰¹æ•ˆå’Œæ»¤é•œ
é™¤äº†ä¸ºè§†é¢‘ç‰‡æ®µæ·»åŠ ç‰¹æ•ˆå’Œæ»¤é•œå¤–ï¼Œä½ è¿˜å¯ä»¥åˆ›å»ºç‹¬ç«‹çš„ç‰¹æ•ˆè½¨é“å’Œæ»¤é•œè½¨é“ï¼Œå¹¶åœ¨å…¶ä¸Šæ·»åŠ ç‰¹æ•ˆå’Œæ»¤é•œç‰‡æ®µã€‚

é¦–å…ˆä½¿ç”¨`Script_file.add_track()`æ–¹æ³•åˆ›å»ºç‰¹æ•ˆè½¨é“æˆ–æ»¤é•œè½¨é“ã€‚è‹¥éœ€è¦æŒ‡å®šé¡ºåºè¯·å‚è€ƒ[å¤šè½¨é“æ“ä½œ](#å¤šè½¨é“æ“ä½œ)
```python
script.add_track(draft.Track_type.effect, "my_effect")  # åˆ›å»ºåä¸º"my_effect"çš„ç‰¹æ•ˆè½¨é“
script.add_track(draft.Track_type.filter, "my_filter")  # åˆ›å»ºåä¸º"my_filter"çš„æ»¤é•œè½¨é“
```

æ¥ä¸‹æ¥ä¾¿å¯ä½¿ç”¨`add_effect`å’Œ`add_filter`æ–¹æ³•å‘è¿™äº›è½¨é“æ·»åŠ ç‰‡æ®µï¼š
```python
from pyJianYingDraft import Video_scene_effect_type, Filter_type, trange

# åœ¨ç‰¹æ•ˆè½¨é“ä¸Šæ·»åŠ ä¸€ä¸ª"èƒ¶ç‰‡é—ªåˆ‡"ç‰¹æ•ˆï¼ŒæŒç»­5ç§’ï¼Œå¹¶è®¾ç½®å…¶å‚æ•°
script.add_effect(Video_scene_effect_type.èƒ¶ç‰‡é—ªåˆ‡, trange("0s", "5s"),
                  track_name="my_effect",  # å½“ç‰¹æ•ˆè½¨é“åªæœ‰ä¸€æ¡æ—¶å¯çœç•¥
                  params=[50, None, 80])  # è®¾ç½®é€Ÿåº¦ä¸º50ï¼Œä¿æŒå¼ºåº¦é»˜è®¤(100)ï¼Œè®¾ç½®çº¹ç†ä¸º80

# åœ¨æ»¤é•œè½¨é“ä¸Šæ·»åŠ ä¸€ä¸ª"å“ˆè‹è“"æ»¤é•œï¼ŒæŒç»­æ•´ä¸ªè§†é¢‘ï¼Œå¼ºåº¦ä¸º70
script.add_filter(Filter_type.å“ˆè‹è“, trange(0, script.duration),
                  track_name="my_filter",  # å½“æ»¤é•œè½¨é“åªæœ‰ä¸€æ¡æ—¶å¯çœç•¥
                  intensity=70)
```

#### æ·»åŠ ç‰‡æ®µåŠ¨ç”»
æ·»åŠ åŠ¨ç”»ä½¿ç”¨çš„æ–¹æ³•æ˜¯`segment.add_animation()`ï¼Œå…¶ä»…æ¥æ”¶ä¸€ä¸ªåŠ¨ç”»ç±»å‹ä½œä¸ºå‚æ•°ï¼ŒåŠ¨ç”»çš„æŒç»­æ—¶é—´ç”±å…¶é»˜è®¤å€¼å†³å®šã€‚è‹¥éœ€è¦æ·»åŠ å¤šä¸ªåŠ¨ç”»ï¼Œå¯å¯¹åŒä¸€ä¸ªç‰‡æ®µè°ƒç”¨å¤šæ¬¡è¯¥æ–¹æ³•ã€‚

> â„¹ ä¸º**æ–‡æœ¬ç‰‡æ®µ**åŒæ—¶è®¾ç½®å¾ªç¯åŠ¨ç”»å’Œå…¥å‡ºåœºåŠ¨ç”»æ—¶, è¯·**å…ˆæ·»åŠ å‡ºå…¥åœºåŠ¨ç”»å†æ·»åŠ å¾ªç¯åŠ¨ç”»**

ä»¥ä¸‹æ˜¯ä¸ºä¸€ä¸ªæ–‡æœ¬ç‰‡æ®µæ·»åŠ ä¸‰ç§åŠ¨ç”»çš„ä¾‹å­ï¼š
```python
from pyJianYingDraft import Text_intro, Text_outro, Text_loop_anim

text_seg.add_animation(Text_intro.å¤å¤æ‰“å­—æœº).add_animation(Text_outro.å¼¹ç°§)
text_seg.add_animation(Text_loop_anim.è‰²å·®æ•…éšœ)  # æ³¨æ„ï¼šå¾ªç¯åŠ¨ç”»å¿…é¡»åœ¨å‡ºå…¥åœºåŠ¨ç”»ä¹‹åæ·»åŠ 
```

### æ–‡æœ¬åŠå­—å¹•
#### æ·»åŠ æ–‡æœ¬
æ·»åŠ æ–‡æœ¬ä¸æ·»åŠ è§†é¢‘/éŸ³é¢‘ç‰‡æ®µç±»ä¼¼ï¼Œåªéœ€åˆ›å»º`Text_segment`å¯¹è±¡å¹¶åˆ©ç”¨`add_segment`æ·»åŠ åˆ°`Script_file`ä¸­å³å¯ã€‚
å…¶**å­—ä½“**ã€**æ–‡å­—æ ·å¼**åŠ**å›¾åƒè°ƒèŠ‚**è®¾ç½®å¯åˆ†åˆ«é€šè¿‡`font`, `style`å’Œ`clip_settings`å‚æ•°è®¾ç½®ã€‚

ä¾‹å¦‚ï¼š
```python
import pyJianYingDraft as draft
from pyJianYingDraft import Font_type, Text_style, Clip_settings

# å¸¦ä¸‹åˆ’çº¿ã€ä½ç½®åŠå¤§å°ç±»ä¼¼å­—å¹•çš„æµ…è“è‰²æ–‡æœ¬
seg1 = draft.Text_segment("Subtitle", trange("0s", "10s"),
                          font=Font_type.æ–‡è½©ä½“,
                          style=Text_style(size=5.0, color=(0.7, 0.7, 1.0), underline=True, align=1),
                          clip_settings=Clip_settings(transform_y=-0.8))
```

æ›´å…·ä½“çš„å‚æ•°è¯´æ˜å¯å‚è§`Text_style`å’Œ`Clip_settings`çš„æ„é€ å‡½æ•°ã€‚

#### å¯¼å…¥å­—å¹•
> â„¹ ç›®å‰åªæ”¯æŒå¯¼å…¥**SRTæ ¼å¼**çš„å­—å¹•æ–‡ä»¶

å¯¼å…¥å­—å¹•æœ¬è´¨ä¸Šæ˜¯æ ¹æ®æ¯æ¡å­—å¹•çš„æ—¶é—´æˆ³åŠå†…å®¹åˆ›å»ºä¸€ç³»åˆ—æ–‡æœ¬ï¼Œå¹¶æ·»åŠ åˆ°è½¨é“ä¸­ã€‚è¿™ä¸€è¿‡ç¨‹é€šè¿‡`Script_file.import_srt`æ¥å®ç°ã€‚

ä¾‹å¦‚ï¼š
```python
import pyJianYingDraft as draft

script = draft.Script_file(1080, 1080)

# å°†å­—å¹•å¯¼å…¥åˆ°åä¸º"subtitle"çš„è½¨é“ä¸­ï¼Œè‹¥è½¨é“ä¸å­˜åœ¨å°†è‡ªåŠ¨åˆ›å»º
# ä¸æŒ‡å®šstyleå’Œclip_settingsï¼Œåˆ™é»˜è®¤æ¨¡æ‹Ÿå‰ªæ˜ å¯¼å…¥å­—å¹•æ—¶çš„æ ·å¼
script.import_srt("subtitle.srt", track_name="subtitle", time_offset="1.5s")  # å­—å¹•æ•´ä½“åç§»1.5ç§’

# å¯ä»¥åˆ©ç”¨`text_style`å’Œ`clip_settings`å‚æ•°å¯¹å­—å¹•çš„æ ·å¼è¿›è¡Œè°ƒæ•´, ä¸Šè¿°å‚æ•°çš„æ„ä¹‰ä¸`Text_segment()`ä¸­çš„ç›¸åŒ
script.import_srt("subtitle.srt", track_name="subtitle",
                  text_style=draft.Text_style(size=10.0, color=(1.0, 0.0, 0.0))
                  clip_settings=draft.Clip_settings(transform_y=0.8))  # å°†å­—å¹•æ”¾ç½®åœ¨å±å¹•ä¸Šæ–¹

# å¦‚æœéœ€è¦æ›´å¤æ‚çš„æ ·å¼æˆ–å¸Œæœ›ä¸ºå­—å¹•åº”ç”¨åŠ¨ç”»ï¼Œå¯ä»¥ä¸º`style_reference`å‚æ•°ä¼ å…¥ä¸€ä¸ª`Text_segment`å¯¹è±¡ä½œä¸ºæ ·å¼å‚è€ƒï¼ˆå¿½ç•¥å…¶æ–‡æœ¬å’Œç‰‡æ®µé•¿åº¦è®¾ç½®ï¼‰
# æ³¨æ„åŠ¨ç”»æ—¶é—´ä¸ä¼šæ ¹æ®å­—å¹•ç‰‡æ®µé•¿åº¦è¿›è¡Œè°ƒèŠ‚ï¼Œæ•…å½“å­—å¹•ç‰‡æ®µè¿‡çŸ­æ—¶å¯èƒ½å‡ºç°å¥‡æ€ªçš„æ•ˆæœ
script.import_srt("subtitle.srt", track_name="subtitle", style_reference=seg1)  # ä»¥ä¸Šä¸€èŠ‚â€œæ·»åŠ æ–‡æœ¬â€ä¸­çš„æ–‡æœ¬ä½œä¸ºå‚è€ƒ

# é»˜è®¤ä¸ä¼šé‡‡ç”¨`style_reference`ç‰‡æ®µä¸­çš„`clip_settings`è®¾ç½®ï¼Œå¦‚æœéœ€è¦çš„è¯è¯·æ˜¾å¼ä¼ å…¥`clip_settings=None`
script.import_srt("subtitle.srt", track_name="subtitle", style_reference=seg1, clip_settings=None)  # ç›¸å½“äºclip_settings=seg1.clip_settings
```
